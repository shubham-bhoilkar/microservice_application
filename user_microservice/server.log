2025-01-06 12:17:48,893 - user_microservice - INFO - Data view request by user: 1
2025-01-06 12:17:48,893 - user_microservice - INFO - Reading records from table 'user_details' with filters: {'user_id': 1}
2025-01-06 12:17:48,893 - user_microservice - INFO - Executing query: SELECT * FROM user_details WHERE user_id = ? with params: (1,)
2025-01-06 12:17:48,896 - user_microservice - ERROR - Query failed: SELECT * FROM user_details WHERE user_id = ? with params: (1,). Error: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 12:17:48,896 - user_microservice - ERROR - Failed to read records from table 'user_details' with filters: {'user_id': 1}. Error: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 12:17:48,896 - user_microservice - ERROR - Error retrieving user information: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 22, in execute_query
    with pyodbc.connect(CONNECTION_STRING) as conn:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pyodbc.Error: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 29, in view_records_logic
    result = read_records("user_details", filter, log)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 63, in read_records
    return execute_query(base_query, params, log)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 40, in execute_query
    raise RuntimeError(f"Database operation failed: {e}") from e
RuntimeError: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 12:44:37,510 - user_microservice - INFO - Data view request by user: 1
2025-01-06 12:44:37,510 - user_microservice - INFO - Reading records from table 'user_details' with filters: {'user_id': 1}
2025-01-06 12:44:37,510 - user_microservice - INFO - Executing query: SELECT * FROM user_details WHERE user_id = ? with params: (1,)
2025-01-06 12:44:37,511 - user_microservice - ERROR - Query failed: SELECT * FROM user_details WHERE user_id = ? with params: (1,). Error: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 12:44:37,511 - user_microservice - ERROR - Failed to read records from table 'user_details' with filters: {'user_id': 1}. Error: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 12:44:37,511 - user_microservice - ERROR - Error retrieving user information: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 22, in execute_query
    with pyodbc.connect(CONNECTION_STRING) as conn:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pyodbc.Error: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 29, in view_records_logic
    result = read_records("user_details", filter, log)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 63, in read_records
    return execute_query(base_query, params, log)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 40, in execute_query
    raise RuntimeError(f"Database operation failed: {e}") from e
RuntimeError: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 12:52:57,417 - user_microservice - INFO - Registraion request recived with user data first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI_Developer'
2025-01-06 12:52:57,417 - user_microservice - INFO - Executing query: INSERT INTO user_details (first_name, last_name, phone, email, designation) VALUES (?, ?, ?, ?, ?) with params: ('Shubham', 'Bhoilkar', 7045019544, 'sam@99', 'AI_Developer')
2025-01-06 12:52:57,418 - user_microservice - ERROR - Query failed: INSERT INTO user_details (first_name, last_name, phone, email, designation) VALUES (?, ?, ?, ?, ?) with params: ('Shubham', 'Bhoilkar', 7045019544, 'sam@99', 'AI_Developer'). Error: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 12:52:57,418 - user_microservice - ERROR - Failed to create record in table 'user_details': {'first_name': 'Shubham', 'last_name': 'Bhoilkar', 'phone': 7045019544, 'email': 'sam@99', 'designation': 'AI_Developer'}. Error: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 12:52:57,418 - user_microservice - ERROR - Error during creating user registration.Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 22, in execute_query
    with pyodbc.connect(CONNECTION_STRING) as conn:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pyodbc.Error: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 13, in register_user_logic
    result = create_record("user_details", data, log)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 48, in create_record
    return execute_query(query, tuple(data.values()), log)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 40, in execute_query
    raise RuntimeError(f"Database operation failed: {e}") from e
RuntimeError: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 13:03:19,820 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:03:19,820 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:05:18,945 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:05:18,946 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:14:58,320 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:14:58,320 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:15:35,930 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:15:35,930 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^  "first_name": "Shubham",
  "last_name": "Bhoilkar",
  "phone": 7045019544,
  "email": "sam@99",
  "designation": "AI Developer"
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:16:08,241 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:16:08,241 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:16:52,441 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:16:52,442 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:18:06,642 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:20:48,473 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:20:48,474 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:20:57,512 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:20:57,513 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:20:59,650 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:20:59,651 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:21:22,327 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:21:43,035 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:21:43,036 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    user_id = user_data.user_id
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:22:40,823 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:23:35,276 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
  "first_name": "Shubham",
  "last_name": "Bhoilkar",
  "phone": 7045019544,
  "email": "sam@99",
  "designation": "AI Developer"2025-01-06 13:41:41,154 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 53, in update_user_logic
    }
      
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 13:53:33,178 - user_microservice - INFO - User data update request received by user: first_name='Shubham' last_name='Bhoilkar' phone=7045019544 email='sam@99' designation='AI Developer'
2025-01-06 13:53:39,761 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 47, in update_user_logic
    "user_id":user_data.user_id,
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'update_user' object has no attribute 'user_id'
2025-01-06 14:00:17,149 - user_microservice - INFO - User data update request received by user: user_id=1 first_name='Shubham' last_name='Bhoilkar' phone=99 email='sam@99' designation='Developer'
2025-01-06 14:00:17,149 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 55, in update_user_logic
    result = update_record("user_details",data.keys[0], "user_id",data,log)
                                          ~~~~~~~~~^^^
TypeError: 'builtin_function_or_method' object is not subscriptable
string2025-01-06 14:02:22,740 - user_microservice - INFO - User data update request received by user: user_id=1 first_name='Shubham' last_name='Bhoilkar' phone=99 email='sam@99' designation='Developer'
2025-01-06 14:02:22,741 - user_microservice - INFO - Record updated in table 'user_details' with ID 1: {'user_id': 1, 'first_name': 'Shubham', 'last_name': 'Bhoilkar', 'phone': 99, 'email': 'sam@99', 'designation': 'Developer'}
2025-01-06 14:02:22,741 - user_microservice - INFO - Executing query: UPDATE user_details SET user_id = ?, first_name = ?, last_name = ?, phone = ?, email = ?, designation = ? WHERE user_id = ? with params: (1, 'Shubham', 'Bhoilkar', 99, 'sam@99', 'Developer', 1)
2025-01-06 14:02:22,744 - user_microservice - ERROR - Query failed: UPDATE user_details SET user_id = ?, first_name = ?, last_name = ?, phone = ?, email = ?, designation = ? WHERE user_id = ? with params: (1, 'Shubham', 'Bhoilkar', 99, 'sam@99', 'Developer', 1). Error: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 14:02:22,744 - user_microservice - ERROR - Failed to update record in table 'user_details' with ID 1: {'user_id': 1, 'first_name': 'Shubham', 'last_name': 'Bhoilkar', 'phone': 99, 'email': 'sam@99', 'designation': 'Developer'}. Error: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
2025-01-06 14:02:22,744 - user_microservice - ERROR - Error during updating user details.
Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 22, in execute_query
    with pyodbc.connect(CONNECTION_STRING) as conn:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pyodbc.Error: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/sam_assignment/user_microservice/user_api_function.py", line 55, in update_user_logic
    result = update_record("user_details",user_data.user_id, "user_id",data,log)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 75, in update_record
    return execute_query(query, params,log)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/sam_assignment/user_microservice/util_pydobc.py", line 40, in execute_query
    raise RuntimeError(f"Database operation failed: {e}") from e
RuntimeError: Database operation failed: ('01000', "[01000] [unixODBC][Driver Manager]Can't open lib 'MariaDB ODBC 3.1 Driver' : file not found (0) (SQLDriverConnect)")
